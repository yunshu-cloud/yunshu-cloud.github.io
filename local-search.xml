<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>bustub</title>
    <link href="/2025/06/29/bustub/"/>
    <url>/2025/06/29/bustub/</url>
    
    <content type="html"><![CDATA[<h3 id="Project-0-Primer"><a href="#Project-0-Primer" class="headerlink" title="Project 0 Primer"></a>Project 0 Primer</h3><h4 id="1-C-basic"><a href="#1-C-basic" class="headerlink" title="1. C++ basic"></a>1. C++ basic</h4><h5 id="std-string-vs-std-string-view"><a href="#std-string-vs-std-string-view" class="headerlink" title="std::string vs std::string_view"></a><em>std::string vs std::string_view</em></h5><p><strong>std::string</strong><br>keys of features</p><ul><li>dynamic memory allocation</li><li>mutable operation</li><li>wide range of member functions</li></ul><p><strong>std::string_view</strong><br>keys of features</p><ul><li>non-owing view : provide view or reference to an existing string</li><li>light weight and efficient : assign or copy string_view is fast cause it only need to consider the reference ,length and start position of the string</li><li>immutable operations : if someone just need to read the string ,should use the std::string_view</li></ul><h5 id="std-lock-guard-and-std-mutex"><a href="#std-lock-guard-and-std-mutex" class="headerlink" title="std::lock_guard and std::mutex"></a><em>std::lock_guard and std::mutex</em></h5><p><strong>std::mutex</strong><br>A std::mutex (short for “mutual exclusion”) is a synchronization primitive used to protect shared data from being accessed concurrently by multiple threads.<br>std::mutex example</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mutex&gt;</span></span><br><br>std::mutex mtx;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printMessage</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; msg)</span> </span>&#123;<br>    mtx.<span class="hljs-built_in">lock</span>();  <span class="hljs-comment">// Lock the mutex</span><br>    std::cout &lt;&lt; msg &lt;&lt; std::endl;<br>    mtx.<span class="hljs-built_in">unlock</span>();  <span class="hljs-comment">// Unlock the mutex</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::thread <span class="hljs-title">t1</span><span class="hljs-params">(printMessage, <span class="hljs-string">&quot;Hello from thread 1&quot;</span>)</span></span>;<br>    <span class="hljs-function">std::thread <span class="hljs-title">t2</span><span class="hljs-params">(printMessage, <span class="hljs-string">&quot;Hello from thread 2&quot;</span>)</span></span>;<br><br>    t<span class="hljs-number">1.</span><span class="hljs-built_in">join</span>();<br>    t<span class="hljs-number">2.</span><span class="hljs-built_in">join</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>std::lock_guard</strong><br>std::lock_guard is a RAII-style (Resource Acquisition Is Initialization) wrapper for std::mutex. It automatically locks the mutex when it’s constructed and unlocks it when it goes out of scope.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mutex&gt;</span></span><br><br>std::mutex mtx;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printMessage</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; msg)</span> </span>&#123;<br>    <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">guard</span><span class="hljs-params">(mtx)</span></span>;  <span class="hljs-comment">// Mutex is locked here</span><br>    std::cout &lt;&lt; msg &lt;&lt; std::endl;<br>    <span class="hljs-comment">// Mutex will automatically be unlocked when guard goes out of scope</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::thread <span class="hljs-title">t1</span><span class="hljs-params">(printMessage, <span class="hljs-string">&quot;Hello from thread 1&quot;</span>)</span></span>;<br>    <span class="hljs-function">std::thread <span class="hljs-title">t2</span><span class="hljs-params">(printMessage, <span class="hljs-string">&quot;Hello from thread 2&quot;</span>)</span></span>;<br><br>    t<span class="hljs-number">1.</span><span class="hljs-built_in">join</span>();<br>    t<span class="hljs-number">2.</span><span class="hljs-built_in">join</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>CGLIB</title>
    <link href="/2025/06/16/CGLIB/"/>
    <url>/2025/06/16/CGLIB/</url>
    
    <content type="html"><![CDATA[<h3 id="Proxy-in-Java"><a href="#Proxy-in-Java" class="headerlink" title="Proxy in Java"></a>Proxy in Java</h3><p><strong>Preface</strong></p><p>In Java, especially within the Spring Boot framework, proxies are commonly used to implement logic such as logging, authentication, or adding new features without modifying the original class. Two common proxy techniques used for these purposes are JDK dynamic proxy and CGLIB.</p><h4 id="JDK-Dynamic-Proxy-in-java"><a href="#JDK-Dynamic-Proxy-in-java" class="headerlink" title="JDK Dynamic Proxy in java"></a>JDK Dynamic Proxy in java</h4><p>JDK dynamic proxy is used for classes that implements interfaces, and it does not require importing any additional libraries.It works by creating a proxy instance at runtime that implements the same interfaces as the target class,delegating method calls to an <em>InvocationHandler</em>. This approach is simple and efficient but is limited to interfaces-if the target class does not implement an interface,JDK dynamic proxy cannot be used.</p><p>code example:</p><p>1.interface</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(String username)</span>;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(String username)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>2.implementation</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(String username)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Adding user: &quot;</span> + username);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(String username)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Deleting user: &quot;</span> + username);<br>    &#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>3.invocation handler</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Object target;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LoggingHandler</span><span class="hljs-params">(Object target)</span> &#123;<br>        <span class="hljs-built_in">this</span>.target = target;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;Method &quot;</span> + method.getName() + <span class="hljs-string">&quot; is being called with arguments: &quot;</span> + args[<span class="hljs-number">0</span>]);<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args);  <span class="hljs-comment">// Delegates to actual method</span><br>        System.out.println(<span class="hljs-string">&quot;Method &quot;</span> + method.getName() + <span class="hljs-string">&quot; execution finished.&quot;</span>);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>4.test</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.lang.reflect.Proxy;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyExample</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// Create the original object</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br><br>        <span class="hljs-comment">// Create a proxy for the UserService interface</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (UserService) Proxy.newProxyInstance(<br>                userService.getClass().getClassLoader(),<br>                userService.getClass().getInterfaces(),<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoggingHandler</span>(userService) <span class="hljs-comment">// specify the InvocationHandler and the target of the handler</span><br>        );<br><br>        <span class="hljs-comment">// Call methods on the proxy</span><br>        proxy.addUser(<span class="hljs-string">&quot;John Doe&quot;</span>);<br>        proxy.deleteUser(<span class="hljs-string">&quot;John Doe&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="CGLIB"><a href="#CGLIB" class="headerlink" title="CGLIB"></a>CGLIB</h4><p>CGLIB (Code Generation Library) is a popular technique for creating proxies in Java. Unlike JDK dynamic proxies, which require the target class to implement an interface, CGLIB proxies work by subclassing the target class. The proxy class extends the target class and overrides its methods, allowing for interception of method calls.</p><p>CGLIB is used for proxying concrete classes (i.e., classes that do not implement interfaces). This can be especially useful in situations where we need to proxy a class that does not have interfaces but still requires additional behavior like logging or transaction management.</p><p>One important thing to note about CGLIB proxies is that they can only be applied to non-final classes and methods. If a class or its methods are marked as final, CGLIB cannot create a subclass of it, and proxying will fail.</p><p>CGLIB proxies are typically created using the Enhancer class from the CGLIB library. In Spring, this is often done automatically when proxying classes that don’t implement interfaces.</p><p>Code Example</p><p>1.Include CGLIB Dependency</p><p>If you’re using Maven, make sure to include the CGLIB dependency in your pom.xml file:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cglib<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>cglib<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.Target Class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> &#123; <span class="hljs-comment">// what you need to focus on is that the userServiceImpl is not a implementation of any interface</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(String username)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Adding user: &quot;</span> + username);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(String username)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Deleting user: &quot;</span> + username);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>3.test<br>CGLIB Proxy Example</p><p>The Enhancer class from CGLIB allows us to create a proxy of the UserServiceImpl class. We can also specify an MethodInterceptor to intercept method calls on the proxy object.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> net.sf.cglib.proxy.Enhancer;<br><span class="hljs-keyword">import</span> net.sf.cglib.proxy.MethodInterceptor;<br><span class="hljs-keyword">import</span> net.sf.cglib.proxy.MethodProxy;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CglibProxyExample</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// Create the original object (target class)</span><br>        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br><br>        <span class="hljs-comment">// Create CGLIB proxy for UserServiceImpl</span><br>        <span class="hljs-type">Enhancer</span> <span class="hljs-variable">enhancer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enhancer</span>();<br>        enhancer.setSuperclass(UserServiceImpl.class); <span class="hljs-comment">// Set the target class to subclass</span><br>        enhancer.setCallback(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodInterceptor</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Object proxy, Method method, Object[] args, MethodProxy methodProxy)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-comment">// Pre-method logic: Logging</span><br>                System.out.println(<span class="hljs-string">&quot;Method &quot;</span> + method.getName() + <span class="hljs-string">&quot; is being called with arguments: &quot;</span> + args[<span class="hljs-number">0</span>]);<br><br>                <span class="hljs-comment">// Call the original method on the target class</span><br>                <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> methodProxy.invokeSuper(proxy, args); <span class="hljs-comment">// Calls the original method</span><br><br>                <span class="hljs-comment">// Post-method logic: Logging</span><br>                System.out.println(<span class="hljs-string">&quot;Method &quot;</span> + method.getName() + <span class="hljs-string">&quot; execution finished.&quot;</span>);<br><br>                <span class="hljs-keyword">return</span> result;<br>            &#125;<br>        &#125;);<br><br>        <span class="hljs-comment">// Create the proxy instance</span><br>        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (UserServiceImpl) enhancer.create();<br><br>        <span class="hljs-comment">// Call methods on the proxy</span><br>        proxy.addUser(<span class="hljs-string">&quot;John Doe&quot;</span>);<br>        proxy.deleteUser(<span class="hljs-string">&quot;John Doe&quot;</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>hyperloglog</title>
    <link href="/2025/03/07/hyperloglog/"/>
    <url>/2025/03/07/hyperloglog/</url>
    
    <content type="html"><![CDATA[<h2 id="HyperLoglog"><a href="#HyperLoglog" class="headerlink" title="HyperLoglog"></a>HyperLoglog</h2><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>With millions of users clicking on websites randomly, tracking the number of clicks can be a challenge.This is where HyperLogLog comes in to help efficiently handle the problem.</p><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>he HyperLogLog(HLL) is a probablistic data structure that tracks the cardinality of large data sets which do not have duplicates.It is used for counting unique items in a massive data stream without explicitly storing every item.</p><h3 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a>How it works</h3><p>Considering a simple example of how it works using the string “A great database is a great life”.</p><ul><li>First, the string is hash to produce a hash value, and then convert into binary format.</li><li>Second, extract b bits from the binary value above as register value.</li><li>Third, get the position of the leftmost 1 from the remaining set of bits.<br>Acquire the max of position and register value as the final register value.</li><li>Finally, after all the elements are added, use the formula below to get the result we want<br><img src="/images/cardinality.png" alt="formula"><br>where constant &#x3D; 0.79402 and R[j] is the value in register j and N &#x3D; m.</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>HowManyBits</title>
    <link href="/2024/12/19/HowManyBits/"/>
    <url>/2024/12/19/HowManyBits/</url>
    
    <content type="html"><![CDATA[<h2 id="CSAPP-howManyBits"><a href="#CSAPP-howManyBits" class="headerlink" title="CSAPP - howManyBits"></a>CSAPP - howManyBits</h2><h3 id="1-Description"><a href="#1-Description" class="headerlink" title="1. Description"></a>1. Description</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* howManyBits - return the minimum number of bits required to represent x in</span><br><span class="hljs-comment"> *             two&#x27;s complement</span><br><span class="hljs-comment"> *  Examples: howManyBits(12) = 5</span><br><span class="hljs-comment"> *            howManyBits(298) = 10</span><br><span class="hljs-comment"> *            howManyBits(-5) = 4</span><br><span class="hljs-comment"> *            howManyBits(0)  = 1</span><br><span class="hljs-comment"> *            howManyBits(-1) = 1</span><br><span class="hljs-comment"> *            howManyBits(0x80000000) = 32</span><br><span class="hljs-comment"> *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span><br><span class="hljs-comment"> *  Max ops: 90</span><br><span class="hljs-comment"> *  Rating: 4</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">howManyBits</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-Solution"><a href="#2-Solution" class="headerlink" title="2. Solution"></a>2. Solution</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">howManyBits</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>  <span class="hljs-type">int</span> b16, b8, b4, b2, b1, b0;<br>  <span class="hljs-type">int</span> sign = x &gt;&gt; <span class="hljs-number">31</span>;<br>  x = (sign&amp;~x)|(~sign&amp;x);<br><br>  b16 = !!(x &gt;&gt; <span class="hljs-number">16</span>) &lt;&lt; <span class="hljs-number">4</span>;<br>  x = x &gt;&gt; b16;<br>  b8 = !!(x&gt;&gt;<span class="hljs-number">8</span>)&lt;&lt;<span class="hljs-number">3</span>;<br>  x = x &gt;&gt; b8;<br>  b4 = !!(x&gt;&gt;<span class="hljs-number">4</span>)&lt;&lt;<span class="hljs-number">2</span>;<br>  x = x &gt;&gt; b4;<br>  b2 = !!(x&gt;&gt;<span class="hljs-number">2</span>)&lt;&lt;<span class="hljs-number">1</span>;<br>  x = x &gt;&gt; b2;<br>  b1 = !!(x&gt;&gt;<span class="hljs-number">1</span>);<br>  x = x &gt;&gt; b1;<br>  b0 = x;<br>  <span class="hljs-keyword">return</span> b16 + b8 + b4 + b2 + b1 + b0 + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-Explaination"><a href="#3-Explaination" class="headerlink" title="3. Explaination"></a>3. Explaination</h3><h4 id="First-part-of-the-code"><a href="#First-part-of-the-code" class="headerlink" title="First part of the code"></a>First part of the code</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> sign = x &gt;&gt; <span class="hljs-number">31</span>;<br>x = (sign&amp;~x)|(~sign&amp;x)<br></code></pre></td></tr></table></figure><p>After this operation, when x is positive, we do not change x value, when x is negative, we reverse all bits of x,</p><p>More details: when x is negative, sign is all 1,we will get ~x in (sign &amp; ~x) rather than (0000 … 000 &amp; x) which reverse all bits of x and and vice versa.</p><p>Now, the bits x have plus 1 sign bit is the result we want to get.</p><h4 id="Second-part-of-the-code"><a href="#Second-part-of-the-code" class="headerlink" title="Second part of the code"></a>Second part of the code</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> b16;<br>b16 = !!(x &gt;&gt; <span class="hljs-number">16</span>) &lt;&lt; <span class="hljs-number">4</span>;<br>  x = x &gt;&gt; b16;<br></code></pre></td></tr></table></figure><p>In this segment of code, we first right left the x,which get the high 16 bits, and then judge them whether contain 1,</p><ul><li>if it does contain,represent we need low 16 bits, b16 &#x3D; 16.</li><li>if not, b16 &#x3D; 0, represents we don’t need hgih 16 bits.</li></ul><p>Then depend on b16 equals to 0 or 16 , we move bits of x.</p><ul><li>b16 &#x3D; 16, means we should focus on high 16 bits in the future</li><li>b16 &#x3D; 0, means we should drop high 16 bits and focus on low 16 bits.</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>IsTMax</title>
    <link href="/2024/12/17/IsMax/"/>
    <url>/2024/12/17/IsMax/</url>
    
    <content type="html"><![CDATA[<h2 id="CSAPP-isTmax"><a href="#CSAPP-isTmax" class="headerlink" title="CSAPP isTmax"></a>CSAPP isTmax</h2><h3 id="1-Description"><a href="#1-Description" class="headerlink" title="1. Description"></a>1. Description</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * isTmax - returns 1 if x is the maximum, two&#x27;s complement number,</span><br><span class="hljs-comment"> *     and 0 otherwise</span><br><span class="hljs-comment"> *   Legal ops: ! ~ &amp; ^ | +</span><br><span class="hljs-comment"> *   Max ops: 10</span><br><span class="hljs-comment"> *   Rating: 1</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">isTmax</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-Solution"><a href="#2-Solution" class="headerlink" title="2. Solution"></a>2. Solution</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">isTmax</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>  <span class="hljs-type">int</span> i = x+<span class="hljs-number">1</span>;<span class="hljs-comment">//Tmin,1000...</span><br>  x=x+i;<span class="hljs-comment">//-1,1111...</span><br>  x=~x;<span class="hljs-comment">//0,0000...</span><br>  i=!i;<span class="hljs-comment">//exclude x=0xffff...</span><br>  x=x+i;<span class="hljs-comment">//exclude x=0xffff...</span><br>  <span class="hljs-keyword">return</span> !x;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-Imitation"><a href="#3-Imitation" class="headerlink" title="3. Imitation"></a>3. Imitation</h3><h4 id="Suppose-x-is-TMax-which-is-2147483647-or-0x7FFFFFFF"><a href="#Suppose-x-is-TMax-which-is-2147483647-or-0x7FFFFFFF" class="headerlink" title="Suppose x is TMax which is 2147483647 or 0x7FFFFFFF"></a>Suppose x is TMax which is 2147483647 or 0x7FFFFFFF</h4><blockquote><p>x Binary representation: 01111111 11111111 11111111 11111111</p></blockquote><h4 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h4><p>int i &#x3D; x + 1;</p><blockquote><p>i Binary representation: 10000000 00000000 00000000 00000000</p></blockquote><h4 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h4><p>x &#x3D; x + i</p><blockquote><p>Binary representation x : 11111111 11111111 11111111 11111111</p></blockquote><h4 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h4><p>x &#x3D; ~x</p><blockquote><p>Binary representation x : 00000000 00000000 00000000 00000000</p></blockquote><h4 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h4><p>i &#x3D; !i</p><p>before: i is the minimum integer<br>after: i &#x3D; 0</p><blockquote><p>Binary representation: 00000000 00000000 00000000 00000000</p></blockquote><p>This is the most scenario.</p><p>notes:</p><blockquote><p>if i &#x3D; 1, only happend when original x is -1</p></blockquote><blockquote><p>x &#x3D; -1 binary representation is : 11111111 11111111 11111111 11111111</p></blockquote><h4 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h4><p>x &#x3D; x + i</p><blockquote><p>result -&gt; x &#x3D; 0</p></blockquote><h4 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h4><p>return !x</p><blockquote><p>result true</p></blockquote><h3 id="4-Explaination"><a href="#4-Explaination" class="headerlink" title="4. Explaination"></a>4. Explaination</h3><p>Basic thoughts: Considering we need to transfer a integer value x to a boolean value,<br>we could first transfer integer value to zero , then reverse zero to non-zero which could also represent true.</p><p>The imitation gives us a true example.<br>First of all, we should know about what is the maximum, two’s complement number.<br>It is represented as 0 following 1 to the end.</p><p>So, we first add 1 to it, making the result to minimum integer value,<br>which is represented as 1 following 0 to the end.</p><p>And, then use maximum integer value add to minimum integer value which<br>can get -1 as result.</p><p>Next, do bit operation, reversing each bit 1 to 0 , which can get 0 as result.</p><p>Now, we get the result what we want.Commonly, we just need to do !x to return.</p><p>But considering a special scenario, which is x equals to -1 which binary representation is all 1.<br>when x &#x3D; -1 , x + 1 &#x3D; 0 (i), x + i still all 1 in binary representation (x),<br>~x &#x3D; 0, is the same result as the maximum integer value.</p><p>So, we need to exclude this context.<br>we could use flag i to mark it, to test i whetther equals to zero,<br>if i equals to zero, we need to exclude.<br>We use !i to add to the result which we get formerly.<br>when the input is maximum integer value , !i will be zero and will not affect the final result.<br>if the input is not , it will affect the final result to false;</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>React</title>
    <link href="/2024/12/15/react/"/>
    <url>/2024/12/15/react/</url>
    
    <content type="html"><![CDATA[<h2 id="React-For-beginner"><a href="#React-For-beginner" class="headerlink" title="React For beginner"></a>React For beginner</h2><h3 id="1-Preparation"><a href="#1-Preparation" class="headerlink" title="1. Preparation"></a>1. Preparation</h3><ul><li>Download nodejs</li><li>Install Visual Studio Code</li></ul><h3 id="2-Use-Vite-to-create-react-project"><a href="#2-Use-Vite-to-create-react-project" class="headerlink" title="2, Use Vite to create react project"></a>2, Use Vite to create react project</h3><ul><li>find a path as your website root project.</li><li>open the terminal , write<blockquote><p>npm create vite@latest</p></blockquote></li><li>then choose what you want like<blockquote><p>project name : your react project name<br>select a framework: react or vue or etc.</p></blockquote><ul><li>select a variant like : javascript or typescript</li></ul></li></ul><h3 id="3-Install-the-dependencies-and-start-the-project"><a href="#3-Install-the-dependencies-and-start-the-project" class="headerlink" title="3. Install the dependencies and start the project"></a>3. Install the dependencies and start the project</h3><ul><li><p>npm install<br>the commmand above is to install the dependencies your project needs</p></li><li><p>npm run dev<br>the command above is to run the project which is dev environmemnt</p></li></ul><h3 id="4-Introduction-to-the-structure-of-project"><a href="#4-Introduction-to-the-structure-of-project" class="headerlink" title="4. Introduction to the structure of project"></a>4. Introduction to the structure of project</h3><ul><li>First, let focuse on the file &#x2F;src&#x2F;main.jsx.</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">StrictMode</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; createRoot &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom/client&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./index.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.jsx&quot;</span>;<br><br><span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>)).<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure><p>this file acts as javascript main function, it has single component which is App componet</p><ul><li>Second, let’s focus on App.jsx</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> reactLogo <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./assets/react.svg&#x27;</span><br><span class="hljs-keyword">import</span> viteLogo <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;/vite.svg&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Header&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span>/&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span><br></code></pre></td></tr></table></figure><p>this App component contains single component Header</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My website<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Services<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Contact<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Header</span>;<br></code></pre></td></tr></table></figure><p>So,at this moment, you could know about a little about the structure of react project , and how to organize the components.</p><h3 id="5-Variable-in-the-react"><a href="#5-Variable-in-the-react" class="headerlink" title="5. Variable in the react"></a>5. Variable in the react</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Footer</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-symbol">&amp;copy;</span> &#123;new Date().getFullYear()&#125; Your website name<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Footer</span>;<br></code></pre></td></tr></table></figure><p>the above code is about a Footer component, and i want to show different year depending on current year, which i need to import the variable, the format of the usage of variable is to wrapper it with <strong>{}</strong> and so we could write programming code syntax in it to show the current full year</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Random</title>
    <link href="/2024/12/04/Random/"/>
    <url>/2024/12/04/Random/</url>
    
    <content type="html"><![CDATA[<h3 id="Random-in-Cpp"><a href="#Random-in-Cpp" class="headerlink" title="Random in Cpp"></a>Random in Cpp</h3><p>When we want to get a random value in cpp. we could</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;random&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="First"><a href="#First" class="headerlink" title="First,"></a>First,</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::random_device rd;<br><span class="hljs-type">int</span> random_value = <span class="hljs-built_in">rd</span>();<br><br></code></pre></td></tr></table></figure><p>This could get a random value. However it is hardware-based and OS-provided entropy source, usually used in low-level random number generators or system events.</p><h3 id="Second"><a href="#Second" class="headerlink" title="Second,"></a>Second,</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::mt19937 s_RandomEngine<br></code></pre></td></tr></table></figure><p>This is the actually random value generator we want to use in the daily business.<br>It can generate pseudo-random numbers efficientl.<br>But remember, you need to seed it by your random_device like this</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::random_device rd;<br><span class="hljs-function">std::mt19937 <span class="hljs-title">engine</span><span class="hljs-params">(rd())</span></span>;<br><span class="hljs-type">int</span> random_value = <span class="hljs-built_in">engine</span>();<br></code></pre></td></tr></table></figure><p>The running result is as follows ⬇️<br><img src="/images/random_engine.png" alt="alt text"></p><h3 id="Third，"><a href="#Third，" class="headerlink" title="Third，"></a>Third，</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::uniform_int_distribution&lt;std::mt19937::result_type&gt; <span class="hljs-title">distribution</span><span class="hljs-params">(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)</span></span>;<br></code></pre></td></tr></table></figure><p>This could limit the random value to a specific range, in my example is 0 to 100.<br>You need to feed it using engine which i mention above.<br>Here is an example :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;random&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// Initialize a random number engine with a random seed</span><br>    <span class="hljs-function">std::mt19937 <span class="hljs-title">engine</span><span class="hljs-params">(std::random_device&#123;&#125;())</span></span>;<br><br>    <span class="hljs-comment">// Define a uniform integer distribution over the range [0, 100]</span><br>    <span class="hljs-function">std::uniform_int_distribution&lt;std::mt19937::result_type&gt; <span class="hljs-title">distribution</span><span class="hljs-params">(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)</span></span>;<br><br>    <span class="hljs-comment">// Generate a random number using the distribution and engine</span><br>    <span class="hljs-type">int</span> random_value = <span class="hljs-built_in">distribution</span>(engine);<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Random value: &quot;</span> &lt;&lt; random_value &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Great , this example you could execute by yourself. :)</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>HashMap</title>
    <link href="/2024/12/01/HashMap/"/>
    <url>/2024/12/01/HashMap/</url>
    
    <content type="html"><![CDATA[<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><h3 id="1-Initialize"><a href="#1-Initialize" class="headerlink" title="1. Initialize"></a>1. Initialize</h3><p>Today, I want to explain how HashMap in Java to initialize the threshold using bit operation.</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-title">tableSizeFor</span><span class="hljs-params">(<span class="hljs-type">int</span> cap)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = <span class="hljs-number">-1</span> &gt;&gt;&gt; Integer.<span class="hljs-built_in">numberOfLeadingZeros</span>(cap - <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> (n &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="hljs-number">1</span>;<br>    &#125;<br></code></pre></td></tr></table></figure><p>The above is the original code, we can find that the input parameter is the capacity of the HashMap, and the return value is the threshold of HashMap.</p><ul><li><p>First,<br>the (cap - 1) is the last index of HashMap array</p></li><li><p>Second,<br>Integer.numberOfLeadingZeros method could get the counts of the leading zeros in (cap - 1)<br>in front of the default bits of system(like 32-bit)</p><p>Here, i will give you an example.</p><p>For example, Integer.numberOfLeadingZeros(13).<br>13 which is 1101 –&gt; four bits in the lower bits of the 32-bit in your system.<br>0000 0000 0000 1101 which is all bits it shows in the system.<br>and the method function could return the nunber of zeros which in front of 1111,which is 32 - 4 &#x3D; 28</p></li><li><p>Third, -1 &gt;&gt;&gt; Integer.numberOfLeadingZeros(13)<br>-1 in the binary(32-bit) is 1111 1111 1111 1111<br>the sign of &gt;&gt;&gt; represents unsigned right shift operator,which fills zero in the right bits(higher bits).</p><p>So, in my example -1 &gt;&gt;&gt; 28 which gets is 0000 0000 0000 1111<br>the progress is 1111 1111 1111 1111 &#x3D;&#x3D;&#x3D;&gt; 0000 0000 0000 1111<br>the original binary code is shifted 28 bits to the right</p><p>And, the result is 15+1 &#x3D; 16, which is greater than 13 and is a power of 2.</p></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Kubernetes</title>
    <link href="/2024/11/20/Kubernetes/"/>
    <url>/2024/11/20/Kubernetes/</url>
    
    <content type="html"><![CDATA[<h2 id="Kybernetes-Explained"><a href="#Kybernetes-Explained" class="headerlink" title="Kybernetes Explained"></a>Kybernetes Explained</h2><h3 id="control-plane-master-Node"><a href="#control-plane-master-Node" class="headerlink" title="control plane(master Node)"></a>control plane(master Node)</h3><h4 id="A-kbue-api-server"><a href="#A-kbue-api-server" class="headerlink" title="A. kbue-api server"></a>A. <strong>kbue-api server</strong></h4><p>expose the kubernetes api, which is used by all components to interact with the cluster</p><p>validate and process api requests ,used for AAA –&gt; authorization accounting authentication</p><h4 id="B-control-manager"><a href="#B-control-manager" class="headerlink" title="B. control manager"></a>B. <strong>control manager</strong></h4><p>node or deployment controller</p><h4 id="C-kube-scheduler"><a href="#C-kube-scheduler" class="headerlink" title="C.kube scheduler"></a>C.<strong>kube scheduler</strong></h4><p>decide which node should run depending on the resource or other factors</p><h4 id="D-Etcd-local-database"><a href="#D-Etcd-local-database" class="headerlink" title="D. Etcd(local database)"></a>D. <strong>Etcd</strong>(local database)</h4><p>a distributed key-value store that stores all cluster data, including configuration , state and metadata.</p><p>hold the entire data of the cluster</p><h3 id="node-plane"><a href="#node-plane" class="headerlink" title="node plane"></a>node plane</h3><h4 id="A-kube-let"><a href="#A-kube-let" class="headerlink" title="A. kube let"></a>A. kube let</h4><p>input : pod specifications from the control plane , either pulled via the Kubernetes API server or provided directly through local files</p><p>Execution: Works with the container runtime to pull images, create containers, and start them on the node</p><p>Monitoring: Continuously monitors the containers and nodes for health and status updates, sending this information back to the API server</p><h4 id="B-kube-proxy"><a href="#B-kube-proxy" class="headerlink" title="B. kube proxy"></a>B. kube proxy</h4><p>enable communication between nodes</p><h4 id="C-pod"><a href="#C-pod" class="headerlink" title="C. pod"></a>C. pod</h4><p>contains docker-containers</p><p><img src="/../images/Kubernetes.png" alt="alt text"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>RegisterName</title>
    <link href="/2024/11/04/RegisterName/"/>
    <url>/2024/11/04/RegisterName/</url>
    
    <content type="html"><![CDATA[<p>When it comes to operating systems, especially for x86-64 architecture,we often encounter various types of registers, and their names can be confusing.Today, I’ll explain them in detail.</p><h2 id="Registers-in-the-x86-64-Architecture"><a href="#Registers-in-the-x86-64-Architecture" class="headerlink" title="Registers in the x86-64 Architecture"></a>Registers in the x86-64 Architecture</h2><table><thead><tr><th>Register</th><th>Full Name</th><th>Usage</th></tr></thead><tbody><tr><td>RAX</td><td>Accumulator Register</td><td>be used for arithmetic and logical operations.</td></tr><tr><td>RBX</td><td>Base Register</td><td>be used as a base pointer for memory access.</td></tr><tr><td>RCX</td><td>Counter Register</td><td>be used as a loop counter in LOOP and shift&#x2F;rotate instructions.</td></tr><tr><td>RDX</td><td>Data Register</td><td>be used in multiplication and division operations</td></tr><tr><td>RSI</td><td>Source Register</td><td>be used as a source pointer for string and memory operations</td></tr><tr><td>RDI</td><td>Destination Register</td><td>be used as the destination pointer in string operation</td></tr><tr><td>RBP</td><td>Base Pointer Register</td><td>used as a frame pointer for stack frames in function calls.</td></tr><tr><td>RSP</td><td>Stack Register</td><td>holds the address of the top of the stack</td></tr><tr><td>R9</td><td>Additional General-Purpose Register</td><td>provides extra general-purpose storage</td></tr><tr><td>…</td><td>…</td><td>…</td></tr><tr><td>R15</td><td>Additional General-Purpose Register</td><td>provides extra general-purpose storage</td></tr></tbody></table><h2 id="Register-History"><a href="#Register-History" class="headerlink" title="Register History"></a>Register History</h2><p><img src="/images/IntegerRegister.png" alt="Integer Register"></p><ul><li><strong>On a 16-bit machine</strong>, there are 16 bits (0-15) available for storage. The AL register represents the lower 8 bits (0-7), while AH represents the upper 8 bits (8-15). The AX register represents all 16 bits combined.</li><li><strong>On a 32-bit machine</strong>, registers are prefixed with E (for “Extended”) to indicate a 32-bit extension of the original 16-bit registers.</li><li><strong>On a 64-bit machine</strong>, registers are prefixed with R (for “Register”) to signify the 64-bit version of the register.</li></ul><h2 id="Summary-of-Naming"><a href="#Summary-of-Naming" class="headerlink" title="Summary of Naming"></a>Summary of Naming</h2><p>The first eight registers (RAX, RBX, RCX, RDX, RSI, RDI, RBP, and RSP) retain their original x86 names due to their historic roles in assembly programming and compatibility requirements. The names of the newer registers (R8 to R15) simply follow a numerical sequence (R8, R9, etc.), reflecting their additional, general-purpose nature without specific historical functions. These additional registers allow x86-64 to handle more data in parallel, which is essential for modern, complex applications.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/11/04/hello-world/"/>
    <url>/2024/11/04/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
